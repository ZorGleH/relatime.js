// reltime.js 0.1 - relative date display
// https://github.com/nikopol/reltime.js
// niko 2013
var relatime=function(){var k={en:{now:"now",min:{s:"one minute ago",p:"%d minutes ago"},hour:{s:"one hour ago",p:"%d hours ago"},day:{s:"yesterday",p:"%d days ago"},week:{s:"last week",p:"%d weeks ago"},month:{s:"last month",p:"%d months ago"}},fr:{now:"a l'instant",min:{s:"il y a %d minute",p:"il y a %d minutes"},hour:{s:"il y a %d heure",p:"il y a %d heures"},day:{s:"hier",p:"il y a %d jours"},week:{s:"la semaine derni\u00e8re",p:"il y a %d semaines"},month:{s:"le mois dernier",p:"il y a %d mois"}},de:{now:"soeben",min:{s:"vor einer Minute",p:"vor %d Minuten"},hour:{s:"vor einer Stunde",p:"vor %d Stunden"},day:{s:"gestern",p:"vor %d Tagen"},week:{s:"vor einer Woche",p:"vor %d Wochen"},month:{s:"vor einem Monat",p:"vor %d Monaten"}}},g="en",f="span",l="relatime",c=!1,s=!0,h=function(a){void 0!=a&&k[a]&&(g=a);return g},t=function(){!1!==c&&(clearInterval(c),c=!1)},p=function(){t();c=setInterval(function(){for(var a=0,b,d,c=document.querySelectorAll(f+"."+l);a<c.length;){b=c[a];if(d=b.getAttribute("data-date"))b.innerText=
m(n(d));++a}},1E3)},q=function(){return!1!==c},r=function(a){a.tag&&(f=a.tag);a.classname&&(l=a.classname);a.locale&&h(a.locale);a.lang&&h(a.lang);a.refresh&&q()&&p();void 0!==a.autostart&&(s=a.autostart)},n=function(a){a=a instanceof Date?a:new Date(a);return Math.floor(((new Date).getTime()-a.getTime())/1E3)},e=function(a,b){b=Math.round(b);return k[g][a][1<b?"p":"s"].replace("%d",b)},m=function(a){return 60>a?k[g].now:3600>a?e("min",a/60):86400>a?e("hour",a/3600):604800>a?e("day",a/86400):2592E3>
a?e("week",a/604800):e("month",a/2592E3)};h(navigator.language);return{setup:r,start:p,stop:t,locale:h,started:q,text:function(a,b){b&&r(b);return m(n(a))},html:function(a,b){b&&r(b);var d;d=a instanceof Date?a:new Date(a);var c=n(d),e=m(c);2592E3<c?d="<"+f+' title="'+d.toLocaleString()+'">'+e+"</"+f+">":(s&&!q()&&p(),d="<"+f+' class="'+l+'" data-date="'+d.toISOString()+'" title="'+d.toLocaleString()+'">'+e+"</"+f+">");return d}}}();